import{V as E,r as l,N as Y,a1 as m,J as e,X as O}from"./index-B-gyYGwf.js";import{h as b,u as I,I as x,F as n,L as r,a as i,D as f,b as N,c as k,d as w,o as M,P as T}from"./moment-BVg8zEKz.js";import{B as L}from"./Button-CLsro2xG.js";import{s as _}from"./star-igAWdCcK.js";import{u as A}from"./useAddress-yX4uOnrJ.js";import"./PurePanel-DYTEKpG9.js";import"./SearchOutlined-BPzvCd8-.js";import"./index-7yR500q2.js";import"./useIcons-JFCRIfW-.js";import"./button-C_XWnt3E.js";const H="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Close'%3e%3crect%20id='Rectangle%2074'%20x='1'%20y='1'%20width='20'%20height='20'%20rx='5'%20stroke='%232B3F6C'%20stroke-width='1.5'/%3e%3cg%20id='Group%20235'%3e%3cpath%20id='Line'%20d='M8.8787%2013.1215L13.1213%208.87891'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Line_2'%20d='M8.8787%208.87894L13.1213%2013.1216'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",R="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Plus'%3e%3crect%20id='Rectangle%2074'%20x='1'%20y='1'%20width='20'%20height='20'%20rx='5'%20stroke='%232B3F6C'%20stroke-width='1.5'/%3e%3cpath%20id='Line'%20d='M8%2011H14'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Line_2'%20d='M11%207.99988L11%2013.9999'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e";function W(){const{provinces:p,districts:j}=A(),{userProfile:s}=E(a=>a.userReducer),[c,D]=l.useState(),[o,C]=l.useState(),y=a=>{D(a),t("provinceId",~~a.id)},F=a=>{C(a),t("districtId",~~a.id)},g=s!=null&&s.createdDate?b(s.createdDate,"YYYY-MM-DD"):null,u=s!=null&&s.dob?b(s.dob,"YYYY-MM-DD"):null,{control:d,handleSubmit:S,setValue:t,formState:{errors:h}}=I({mode:"onChange",resolver:M(T),defaultValues:{fullname:"",phone:"",address:"",dob:"",avatar:"",email:"",provinceId:~~"01",districtId:~~"01",createdDate:"",imgFrontOfCard:"",imgBackOfCard:""}});l.useEffect(()=>{Y(O)&&s&&(t("fullname",s==null?void 0:s.fullname),t("phone",s==null?void 0:s.phone),t("address",s==null?void 0:s.address),t("dob",u?u.format("YYYY-MM-DD"):""),t("avatar",s==null?void 0:s.avatar),t("email",s==null?void 0:s.email),t("provinceId",~~(s==null?void 0:s.provinceId)),t("districtId",~~(s==null?void 0:s.districtId)),t("createdDate",g?g.format("YYYY-MM-DD"):""),t("imgFrontOfCard",s==null?void 0:s.imgFrontOfCard),t("imgBackOfCard",s==null?void 0:s.imgBackOfCard))},[s]);const B=async()=>{try{m.success("ƒê√£ c·∫≠p nh·∫≠t th√¥ng tin th√†nh c√¥ng!")}catch(a){m.error("C·∫≠p nh·∫≠t th·∫•t b·∫°i!"),console.error("Update error:",a)}};return l.useEffect(()=>{var v;const a=Object.values(h);a.length>0&&m.error((v=a[0])==null?void 0:v.message)},[h]),console.log("üöÄ ~ useEffect ~ arrErrors:",Object.values(h)),e.jsx("div",{className:"px-[30px]",children:e.jsxs("div",{className:"bg-white py-4 shadow-md px-11",children:[e.jsx("div",{className:"mb-5 flex items-start justify-between px-11 pt-10",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-[40px] font-semibold",children:"Th√¥ng tin t√†i kho·∫£n"}),e.jsx("p",{className:"text-xl font-semibold text-[rgba(10,_22,_41,_0.50)]",children:"C·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n"})]})}),e.jsxs("form",{onSubmit:S(B),children:[e.jsx("div",{className:"w-[244px] h-[244px] rounded-full mx-auto mb-7",children:e.jsx(x,{listType:"picture-circle",name:"avatar",fileList:s!=null&&s.avatar?[{url:s.avatar,name:"Avatar"}]:[],onFileSelect:a=>{a&&t("avatar",a)}})}),e.jsxs("div",{className:"flex items-end justify-center mb-10 pr-5",children:[e.jsx("div",{className:"w-14 h-14",children:e.jsx("img",{src:_,alt:"",className:"w-full h-full"})}),e.jsx("h1",{className:"text-4xl font-medium",children:"4.0"})]}),e.jsxs("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl pt-14 px-8 ",children:[e.jsxs("div",{className:"form-layout",children:[e.jsxs(n,{children:[e.jsx(r,{htmlFor:"fullname",children:"H·ªç t√™n ƒë·∫ßy ƒë·ªß"}),e.jsx(i,{name:"fullname",placeholder:"Nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß",control:d})]}),e.jsxs(n,{children:[e.jsx(r,{htmlFor:"dob",children:"Ng√†y sinh"}),e.jsx(i,{name:"dob",placeholder:"Nh·∫≠p ng√†y th√°ng nƒÉm sinh",control:d})]})]}),e.jsxs("div",{className:"form-layout ",children:[e.jsxs(n,{children:[e.jsx(r,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(i,{name:"phone",type:"number",placeholder:"Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i",control:d})]}),e.jsxs(n,{children:[e.jsx(r,{htmlFor:"createdDate",children:"Tham gia t·ª´"}),e.jsx(i,{name:"createdDate",placeholder:"Th·ªùi gian tham gia",className:"text-center border-none",disabled:!0,control:d})]})]}),e.jsxs("div",{className:"form-layout ",children:[e.jsxs(n,{children:[e.jsx(r,{children:"T·ªânh / Th√†nh ph·ªë"}),e.jsxs(f,{children:[e.jsx(N,{value:`${(c==null?void 0:c.name)||"T·ªânh / Th√†nh ph·ªë"}`}),e.jsx(k,{children:(Array.isArray(p)?p:[]).map(a=>e.jsx(w,{name:"provinceId",onClick:()=>y(a),children:a.name},a.id))})]})]}),e.jsxs(n,{children:[e.jsx(r,{children:"Qu·∫≠n / Huy·ªán"}),e.jsxs(f,{children:[e.jsx(N,{value:`${(o==null?void 0:o.name)||"Qu·∫≠n / Huy·ªán"}`}),e.jsx(k,{children:(Array.isArray(j)?j:[]).map(a=>e.jsx(w,{name:"districtId",onClick:()=>F(a),children:a.name},a.id))})]})]}),e.jsxs(n,{children:[e.jsx(r,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(i,{name:"address",placeholder:"Nh·∫≠p ƒë·ªãa ch·ªâ",control:d})]}),e.jsxs(n,{children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(i,{name:"email",placeholder:"Nh·∫≠p email",type:"email",control:d,disabled:!0})]})]})]}),e.jsxs("div",{className:"mt-24",children:[e.jsx(r,{htmlFor:"",children:"T·∫£i ·∫£nh CCCD / CMND"}),e.jsx("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl p-4 mt-5",children:e.jsxs("div",{className:"form-layout lg:mb-0",children:[e.jsx(x,{name:"imgFrontOfCard",onFileSelect:a=>{a&&t("imgFrontOfCard",a)}}),e.jsx(x,{name:"imgBackOfCard",onFileSelect:a=>{a&&t("imgBackOfCard",a)}})]})})]}),e.jsxs("div",{className:"mt-24",children:[e.jsx(r,{htmlFor:"",children:"Kƒ© nƒÉng"}),e.jsxs("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl p-4 mt-5 flex gap-7",children:[e.jsx("div",{className:"inline-block rounded-[20px] bg-[#E8E8E8] px-7 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-2xl",children:"D·ªçn v·ªá sinh"}),e.jsx("div",{className:"w-6 h-6",children:e.jsx("img",{src:H,alt:"icon-close",className:"w-full h-full"})})]})}),e.jsx("div",{className:"inline-block rounded-[20px] bg-[#E8E8E8] px-7 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6",children:e.jsx("img",{src:R,alt:"",className:"w-full h-full"})}),e.jsx("p",{className:"font-semibold text-2xl text-[rgba(10,_22,_41,_0.50)]",children:"Th√™m k·ªπ nƒÉng"})]})})]})]}),e.jsx(L,{type:"submit",title:"C·∫≠p Nh·∫≠t",className:"w-full mt-20 h-16"})]})]})})}export{W as default};
