import{r as h,N as C,a1 as B,X as F,V as L,a2 as u,J as e}from"./index-DTX65zQ1.js";import{d as D,u as S,I as j,F as n,L as a,a as c,D as g,b as f,c as v,e as b,o as A,P as _}from"./DropdownOption-xwDfKq73.js";import{B as M}from"./Button-DMZcwegc.js";import{s as R}from"./star-igAWdCcK.js";import{u as H}from"./useAddress-iyPVHJlC.js";import"./PurePanel-CrHQIUi2.js";import"./SearchOutlined-BMpFbbVT.js";import"./index-CZkjGItt.js";import"./useIcons-BJmbpeVY.js";import"./button-B2nx6Oa8.js";const I="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Close'%3e%3crect%20id='Rectangle%2074'%20x='1'%20y='1'%20width='20'%20height='20'%20rx='5'%20stroke='%232B3F6C'%20stroke-width='1.5'/%3e%3cg%20id='Group%20235'%3e%3cpath%20id='Line'%20d='M8.8787%2013.1215L13.1213%208.87891'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Line_2'%20d='M8.8787%208.87894L13.1213%2013.1216'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",O="data:image/svg+xml,%3csvg%20width='22'%20height='22'%20viewBox='0%200%2022%2022'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Plus'%3e%3crect%20id='Rectangle%2074'%20x='1'%20y='1'%20width='20'%20height='20'%20rx='5'%20stroke='%232B3F6C'%20stroke-width='1.5'/%3e%3cpath%20id='Line'%20d='M8%2011H14'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpath%20id='Line_2'%20d='M11%207.99988L11%2013.9999'%20stroke='%232B3F6C'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e",Y=()=>{const[t,l]=h.useState({role:null,sub:null}),[m,x]=h.useState(!1);return h.useEffect(()=>{const r=C(F);if(r)try{const d=B(r),i=Date.now()/1e3;d.exp<i?x(!0):(l({role:d.role,sub:d.sub}),x(!1))}catch(d){console.error("Token kh√¥ng h·ª£p l·ªá ho·∫∑c l·ªói khi gi·∫£i m√£ token",d),l({role:null,sub:null})}else l({role:null,sub:null})},[]),{...t,isTokenExp:m}};function U(t){return h.useMemo(()=>t&&D(t).isValid()?D(t).format("DD-MM-YYYY HH:mm:ss"):"Ng√†y kh√¥ng h·ª£p l·ªá",[t])}function W(){var N,k,w;const{provinces:t,districts:l,wards:m}=H(),{sub:x}=Y(),{userProfile:r}=L(s=>s.userReducer),d=U((r==null?void 0:r.createdDate)||""),{control:i,handleSubmit:E,setValue:o,formState:{errors:p}}=S({mode:"onChange",resolver:A(_)});h.useEffect(()=>{C(F)&&r&&(o("fullname",r==null?void 0:r.fullname),o("address",r==null?void 0:r.address),o("avatar",r==null?void 0:r.avatar),o("email",x||""),o("createdDate",d))},[r]);const T=async()=>{try{u.success("ƒê√£ c·∫≠p nh·∫≠t th√¥ng tin th√†nh c√¥ng!")}catch(s){u.error("C·∫≠p nh·∫≠t th·∫•t b·∫°i!"),console.error("Update error:",s)}};return h.useEffect(()=>{var y;const s=Object.values(p);s.length>0&&u.error((y=s[0])==null?void 0:y.message)},[p]),console.log("üöÄ ~ useEffect ~ arrErrors:",Object.values(p)),e.jsx("div",{className:"px-[30px]",children:e.jsxs("div",{className:"bg-white py-4 shadow-md px-11",children:[e.jsx("div",{className:"mb-5 flex items-start justify-between px-11 pt-10",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-[40px] font-semibold",children:"Th√¥ng tin t√†i kho·∫£n"}),e.jsx("p",{className:"text-xl font-semibold text-[rgba(10,_22,_41,_0.50)]",children:"C·∫≠p nh·∫≠t th√¥ng tin t√†i kho·∫£n"})]})}),e.jsxs("form",{onSubmit:E(T),children:[e.jsx("div",{className:"w-[244px] h-[244px] rounded-full mx-auto mb-7",children:e.jsx(j,{listType:"picture-circle",name:"avatar",fileList:r!=null&&r.avatar?[{url:r.avatar,name:"Avatar"}]:[],onFileSelect:s=>{s&&o("avatar",s)}})}),e.jsxs("div",{className:"flex items-end justify-center mb-10 pr-5",children:[e.jsx("div",{className:"w-14 h-14",children:e.jsx("img",{src:R,alt:"",className:"w-full h-full"})}),e.jsx("h1",{className:"text-4xl font-medium",children:"4.0"})]}),e.jsxs("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl pt-14 px-8 ",children:[e.jsxs("div",{className:"form-layout",children:[e.jsxs(n,{children:[e.jsx(a,{htmlFor:"fullname",children:"H·ªç t√™n ƒë·∫ßy ƒë·ªß"}),e.jsx(c,{name:"fullname",placeholder:"Nh·∫≠p h·ªç t√™n ƒë·∫ßy ƒë·ªß",control:i})]}),e.jsxs(n,{children:[e.jsx(a,{htmlFor:"date",children:"Ng√†y sinh"}),e.jsx(c,{type:"date",name:"date",placeholder:"Nh·∫≠p ng√†y th√°ng nƒÉm sinh",control:i})]})]}),e.jsxs("div",{className:"form-layout ",children:[e.jsxs(n,{children:[e.jsx(a,{htmlFor:"phone",children:"S·ªë ƒëi·ªán tho·∫°i"}),e.jsx(c,{name:"phone",type:"number",placeholder:"Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i",control:i})]}),e.jsxs(n,{children:[e.jsx(a,{htmlFor:"createdDate",children:"Tham gia t·ª´"}),e.jsx(c,{name:"createdDate",placeholder:"Th·ªùi gian tham gia",className:"text-center border-none focus:ring-0 invisible",control:i})]})]}),e.jsxs("div",{className:"form-layout ",children:[e.jsxs(n,{children:[e.jsx(a,{children:"T·ªânh"}),e.jsxs(g,{children:[e.jsx(f,{value:`${((N=t[0])==null?void 0:N.name)||"T·ªânh"}`}),e.jsx(v,{children:(Array.isArray(t)?t:[]).map(s=>e.jsx(b,{name:"province",children:s.name},s.id))})]})]}),e.jsxs(n,{children:[e.jsx(a,{children:"Qu·∫≠n"}),e.jsxs(g,{children:[e.jsx(f,{value:`${((k=l[0])==null?void 0:k.name)||"Qu·∫≠n"}`}),e.jsx(v,{children:(Array.isArray(l)?l:[]).map(s=>e.jsx(b,{name:"district",children:s.name},s.id))})]})]}),e.jsxs(n,{children:[e.jsx(a,{children:"Ph∆∞·ªùng"}),e.jsxs(g,{children:[e.jsx(f,{value:`${((w=m[0])==null?void 0:w.name)||"Ph∆∞·ªùng"}`}),e.jsx(v,{children:(Array.isArray(m)?m:[]).map(s=>e.jsx(b,{name:"ward",children:s.name},s.id))})]})]}),e.jsxs(n,{children:[e.jsx(a,{htmlFor:"address",children:"ƒê·ªãa ch·ªâ"}),e.jsx(c,{name:"address",placeholder:"Nh·∫≠p ƒë·ªãa ch·ªâ",control:i})]}),e.jsxs(n,{children:[e.jsx(a,{htmlFor:"email",children:"Email"}),e.jsx(c,{name:"email",placeholder:"Nh·∫≠p email",type:"email",control:i,disabled:!0})]})]})]}),e.jsxs("div",{className:"mt-24",children:[e.jsx(a,{htmlFor:"",children:"T·∫£i ·∫£nh CCCD / CMND"}),e.jsx("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl p-4 mt-5",children:e.jsxs("div",{className:"form-layout lg:mb-0",children:[e.jsx(j,{name:"frontCard",onFileSelect:s=>{s&&o("frontCard",s)}}),e.jsx(j,{name:"backCard",onFileSelect:s=>{s&&o("backCard",s)}})]})})]}),e.jsxs("div",{className:"mt-24",children:[e.jsx(a,{htmlFor:"",children:"Kƒ© nƒÉng"}),e.jsxs("div",{className:"border border-solid border-[#D5D5D5] rounded-3xl p-4 mt-5 flex gap-7",children:[e.jsx("div",{className:"inline-block rounded-[20px] bg-[#E8E8E8] px-7 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"font-semibold text-2xl",children:"D·ªçn v·ªá sinh"}),e.jsx("div",{className:"w-6 h-6",children:e.jsx("img",{src:I,alt:"icon-close",className:"w-full h-full"})})]})}),e.jsx("div",{className:"inline-block rounded-[20px] bg-[#E8E8E8] px-7 py-5",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-6 h-6",children:e.jsx("img",{src:O,alt:"",className:"w-full h-full"})}),e.jsx("p",{className:"font-semibold text-2xl text-[rgba(10,_22,_41,_0.50)]",children:"Th√™m k·ªπ nƒÉng"})]})})]})]}),e.jsx(M,{type:"submit",title:"C·∫≠p Nh·∫≠t",className:"w-full mt-20 h-16"})]})]})})}export{W as default};
